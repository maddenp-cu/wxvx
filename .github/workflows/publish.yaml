name: Publish
env:
  ANACONDA_TOKEN: ${{ secrets.ANACONDA_TOKEN }}
on:
  workflow_dispatch:
    tags:
      - '^v[0-9]+\.[0-9]+\.[0-9]+$'
jobs:
  publish:
    name: Publish
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install conda
        run: .github/scripts/conda.sh
      - name: Check Formatting
        run: .github/scripts/checkformat.sh
      - name: Build
        run: .github/scripts/build.sh
      - name: Upload
        run: .github/scripts/upload.sh
